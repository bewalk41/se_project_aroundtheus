!function(){"use strict";class e{constructor(e,t,s,n){let{name:r,link:i,_id:o}=e;this._name=r,this._link=i,this._id=o,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=n}_setEventListener(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeIcon()})),this._cardElement.querySelector(".card__trash-button").addEventListener("click",(()=>{this._handleDeleteCard()})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{"function"==typeof this._handleImageClick&&this._handleImageClick(this._link,this._name)}))}_handleLikeIcon(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}_handleDeleteCard(){"function"==typeof this._handleDeleteClick&&this._handleDeleteClick(this._id,this._cardElement)}getView(){this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardElement.querySelector(".card__header").textContent=this._name;const e=this._cardElement.querySelector(".card__image");return e.src=this._link,e.alt=this._name,this._setEventListener(),this._cardElement}}var t=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._inputEls=Array.from(this._formElement.querySelectorAll(this._inputSelector))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);t.textContent=e.validationMessage,e.classList.add(this._inputErrorClass),t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);t.textContent="",e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass)}_hasInvalidInput(){return this._inputEls.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}_disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners(),this._toggleButtonState()}resetValidation(){this._inputEls.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}toggleButtonState(){this._toggleButtonState()}},s=class{constructor(e){this._popupElement=document.querySelector(e),this._closeButton=this._popupElement.querySelector(".modal__close"),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close())),this._popupElement.addEventListener("mousedown",(e=>{e.target===this._popupElement&&this.close()}))}},n=class extends s{constructor(e,t){super(e),this._handleFormSubmit=t,this._form=this._popupElement.querySelector(".modal__form"),this._inputList=this._form.querySelectorAll(".modal__input"),this._submitButton=this._form.querySelector(".modal__button"),this._submitButtonText=this._submitButton.textContent}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}close(){super.close(),this._form.reset()}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonText}},r=class extends s{constructor(e){super(e),this._imageElement=this._popupElement.querySelector(".modal__image"),this._captionElement=this._popupElement.querySelector(".modal__caption")}open(e){let{name:t,link:s}=e;this._imageElement.src=s,this._imageElement.alt=t,this._captionElement.textContent=t,super.open()}};class i extends s{constructor(e){super(e),this._confirmButton=this._popupElement.querySelector(".modal__button_confirm")}setConfirmationHandler(e){this._handleConfirm=e}open(e){super.open(),this._data=e}setEventListeners(){super.setEventListeners(),this._confirmButton.addEventListener("click",(()=>{this._handleConfirm&&this._handleConfirm(this._data)}))}}var o=class{constructor(e){let{nameSelector:t,jobSelector:s}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}setUserInfo(e){let{name:t,job:s}=e;this._nameElement.textContent=t,this._jobElement.textContent=s}};class a{constructor(e,t){let{items:s,renderer:n}=e;this._renderedItems=s,this._renderer=n,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>this._renderer(e)))}addItem(e){this._container.prepend(e)}}const l={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};var c=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_handleError(e){throw console.error("API Error:",e),e}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponse).catch(this._handleError)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponse).catch(this._handleError)}setUserInfo(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:{...this._headers,"Content-Type":"application/json"},body:JSON.stringify(e)}).then(this._checkResponse).catch(this._handleError)}addCard(e){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:{...this._headers,"Content-Type":"application/json"},body:JSON.stringify(e)}).then(this._checkResponse).catch(this._handleError)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse).catch(this._handleError)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkResponse).catch(this._handleError)}dislikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._checkResponse).catch(this._handleError)}setUserAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:{...this._headers,"Content-Type":"application/json"},body:JSON.stringify(e)}).then(this._checkResponse).catch(this._handleError)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f2772a6b-ab7a-4d91-8e26-99a73e7be810","Content-Type":"application/json"}});document.addEventListener("DOMContentLoaded",(()=>{const s=document.querySelector("#profile-edit-button"),h=document.querySelector("#add-card-button"),d=document.querySelector(".profile__image-button"),_=new o({nameSelector:".profile__name",jobSelector:".profile__description"}),u=new t(l,document.querySelector("#profile-edit-modal .modal__form")),m=new t(l,document.querySelector("#add-card-modal .modal__form"));u.enableValidation(),m.enableValidation();const p=(e,t)=>{b.open({name:t,link:e})},E=new n("#profile-edit-modal",(e=>{E.renderLoading(!0),c.setUserInfo({name:e.heading,about:e.description}).then((()=>{_.setUserInfo({name:e.heading,job:e.description}),E.close()})).catch((e=>console.error(e))).finally((()=>E.renderLoading(!1)))})),f=new n("#add-card-modal",(e=>{f.renderLoading(!0);const t={name:e.heading,link:e.description};c.addCard(t).then((e=>{const t=g(e);S.addItem(t),f.close()})).catch((e=>console.error(e))).finally((()=>f.renderLoading(!1)))})),b=new r("#image-modal"),v=new i("#confirm-popup");v.setEventListeners(),v.setConfirmationHandler((e=>{let{cardId:t,cardElement:s}=e;c.deleteCard(t).then((()=>{s.remove(),v.close()})).catch((e=>console.error(e)))})),E.setEventListeners(),f.setEventListeners(),b.setEventListeners();const C=new n("#profile-popup",(e=>{C.renderLoading(!0),c.setUserAvatar({avatar:e.description}).then((()=>{const t=document.querySelector(".profile__image");t&&(t.src=e.description),C.close()})).catch((e=>console.error(e))).finally((()=>C.renderLoading(!1)))}));function g(t){return new e(t,"#card-template",p,((e,t)=>{v.open({cardId:e,cardElement:t})})).getView()}C.setEventListeners();const S=new a({items:[],renderer:e=>{const t=g(e);S.addItem(t)}},".cards__list");s.addEventListener("click",(()=>{const e=_.getUserInfo();E.setInputValues({heading:e.name,description:e.job}),E.open(),u.resetValidation()})),h.addEventListener("click",(()=>{f.open(),m.toggleButtonState()})),d.addEventListener("click",(()=>{C.open()})),c.getInitialCards().then((e=>{console.log("Initial Cards:",e),S.renderItems(e)})).catch((e=>console.error("Error fetching initial cards:",e)))}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFDbEIsQ0FDRUUsTUFBTyxHQUNQQyxTQUFXMEQsSUFDVCxNQUFNQyxFQUFjQyxFQUFlRixHQUNuQ0csRUFBUXZELFFBQVFxRCxFQUFZLEdBR2hDLGdCQUdGbkIsRUFBa0JuSixpQkFBaUIsU0FBUyxLQUMxQyxNQUFNOEssRUFBV3hCLEVBQVNsRCxjQUMxQndELEVBQWlCN0UsZUFBZSxDQUM5QmlGLFFBQVNjLEVBQVMxTCxLQUNsQjhLLFlBQWFZLEVBQVN6RSxNQUV4QnVELEVBQWlCaEcsT0FDakI0RixFQUFrQm5HLGlCQUFpQixJQUdyQytGLEVBQWNwSixpQkFBaUIsU0FBUyxLQUN0Q29LLEVBQWF4RyxPQUNiOEYsRUFBcUJwRyxtQkFBbUIsSUFHMUMrRixFQUFtQnJKLGlCQUFpQixTQUFTLEtBQzNDMkssRUFBa0IvRyxNQUFNLElBVzFCbUcsRUFBQUEsa0JBRUcxQixNQUFNMEMsSUFDTDdDLFFBQVE4QyxJQUFJLGlCQUFrQkQsR0FDOUJQLEVBQVF6RCxZQUFZZ0UsRUFBYSxJQUVsQ3pDLE9BQU9MLEdBQVFDLFFBQVFDLE1BQU0sZ0NBQWlDRixJQUFLLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IG5hbWUsIGxpbmssIF9pZCB9LFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUNsaWNrXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5faWQgPSBfaWQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcigpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RyYXNoLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGNhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIGNhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUljb24oKSB7XHJcbiAgICBjb25zdCBsaWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVEZWxldGVDYXJkKCkge1xyXG4gICAgaWYgKHR5cGVvZiB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMuX2lkLCB0aGlzLl9jYXJkRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIGNvbnN0IGNhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faGVhZGVyXCIpO1xyXG4gICAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICBjb25zdCBjYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICBjYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IG9wdGlvbnMuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gb3B0aW9ucy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBvcHRpb25zLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBvcHRpb25zLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBvcHRpb25zLmVycm9yQ2xhc3M7XHJcblxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XHJcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICBjb25zdCBlcnJvckVsID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgY29uc3QgZXJyb3JFbCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvckVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dEVscy5zb21lKChpbnB1dEVsKSA9PiAhaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiIsImNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cEVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nLCBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcHRpb25FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fY2FwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5tb2RhbF9fYnV0dG9uX2NvbmZpcm1cIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldENvbmZpcm1hdGlvbkhhbmRsZXIoaGFuZGxlcikge1xyXG4gICAgdGhpcy5faGFuZGxlQ29uZmlybSA9IGhhbmRsZXI7XHJcbiAgfVxyXG5cclxuICBvcGVuKGRhdGEpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2RhdGEgPSBkYXRhOyAvLyBTdG9yZSB0aGUgZGF0YSBuZWVkZWQgZm9yIGNvbmZpcm1hdGlvblxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5faGFuZGxlQ29uZmlybSkge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNvbmZpcm0odGhpcy5fZGF0YSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fam9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iIH0pIHtcclxuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbztcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCIvLyB1dGlscy9jb25zdGFudHMuanNcclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbk9wdGlvbnMgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXJyb3IoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiQVBJIEVycm9yOlwiLCBlcnIpO1xyXG4gICAgdGhyb3cgZXJyO1xyXG4gIH1cclxuXHJcbiAgLy8gMS4gTG9hZGluZyB1c2VyIGluZm9ybWF0aW9uIGZyb20gdGhlIHNlcnZlclxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTtcclxuICB9XHJcblxyXG4gIC8vIDIuIExvYWRpbmcgY2FyZHMgZnJvbSB0aGUgc2VydmVyXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTtcclxuICB9XHJcblxyXG4gIC8vIDMuIEVkaXRpbmcgdGhlIHByb2ZpbGVcclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgLi4udGhpcy5faGVhZGVycyxcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gICAgICAuY2F0Y2godGhpcy5faGFuZGxlRXJyb3IpO1xyXG4gIH1cclxuXHJcbiAgLy8gNC4gQWRkaW5nIGEgbmV3IGNhcmRcclxuICBhZGRDYXJkKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIC4uLnRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTtcclxuICB9XHJcblxyXG4gIC8vIDYuIERlbGV0aW5nIGEgY2FyZFxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gICAgICAuY2F0Y2godGhpcy5faGFuZGxlRXJyb3IpO1xyXG4gIH1cclxuXHJcbiAgLy8gNy4gQWRkaW5nIGFuZCByZW1vdmluZyBsaWtlc1xyXG4gIGxpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTtcclxuICB9XHJcblxyXG4gIGRpc2xpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yKTtcclxuICB9XHJcblxyXG4gIC8vIDguIFVwZGF0aW5nIHByb2ZpbGUgcGljdHVyZVxyXG4gIHNldFVzZXJBdmF0YXIoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAuLi50aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICAgIC5jYXRjaCh0aGlzLl9oYW5kbGVFcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJmMjc3MmE2Yi1hYjdhLTRkOTEtOGUyNi05OWE3M2U3YmU4MTBcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBpO1xyXG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgdmFsaWRhdGlvbk9wdGlvbnMgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiOyAvLyBFbnN1cmUgdGhlIENTUyBwYXRoIGlzIGNvcnJlY3RcclxuaW1wb3J0IGFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjsgLy8gSW1wb3J0IHRoZSBhcGkgaW5zdGFuY2VcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcclxuICBjb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1idXR0b25cIik7XHJcbiAgY29uc3QgcHJvZmlsZUltYWdlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1idXR0b25cIik7XHJcblxyXG4gIGNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICAgIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gICAgam9iU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgICB2YWxpZGF0aW9uT3B0aW9ucyxcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsIC5tb2RhbF9fZm9ybVwiKVxyXG4gICk7XHJcbiAgY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICAgIHZhbGlkYXRpb25PcHRpb25zLFxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbCAubW9kYWxfX2Zvcm1cIilcclxuICApO1xyXG5cclxuICBlZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuICBjb25zdCBoYW5kbGVJbWFnZUNsaWNrID0gKGxpbmssIG5hbWUpID0+IHtcclxuICAgIGltYWdlUG9wdXAub3Blbih7IG5hbWUsIGxpbmsgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcHJvZmlsZUVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXHJcbiAgICAoZm9ybURhdGEpID0+IHtcclxuICAgICAgcHJvZmlsZUVkaXRQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgICBhcGlcclxuICAgICAgICAuc2V0VXNlckluZm8oe1xyXG4gICAgICAgICAgbmFtZTogZm9ybURhdGEuaGVhZGluZyxcclxuICAgICAgICAgIGFib3V0OiBmb3JtRGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcclxuICAgICAgICAgICAgbmFtZTogZm9ybURhdGEuaGVhZGluZyxcclxuICAgICAgICAgICAgam9iOiBmb3JtRGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcHJvZmlsZUVkaXRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiBwcm9maWxlRWRpdFBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpKTtcclxuICAgIH1cclxuICApO1xyXG5cclxuICBjb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGQtY2FyZC1tb2RhbFwiLCAoZm9ybURhdGEpID0+IHtcclxuICAgIGFkZENhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgY29uc3QgY2FyZERhdGEgPSB7IG5hbWU6IGZvcm1EYXRhLmhlYWRpbmcsIGxpbms6IGZvcm1EYXRhLmRlc2NyaXB0aW9uIH07XHJcbiAgICBhcGlcclxuICAgICAgLmFkZENhcmQoY2FyZERhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChkYXRhKTtcclxuICAgICAgICBzZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiBhZGRDYXJkUG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSkpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlLW1vZGFsXCIpO1xyXG5cclxuICBjb25zdCBjb25maXJtUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFwiI2NvbmZpcm0tcG9wdXBcIik7XHJcbiAgY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gIGNvbmZpcm1Qb3B1cC5zZXRDb25maXJtYXRpb25IYW5kbGVyKCh7IGNhcmRJZCwgY2FyZEVsZW1lbnQgfSkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGNhcmRJZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIGNvbmZpcm1Qb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9KTtcclxuXHJcbiAgcHJvZmlsZUVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIGFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIGltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgY29uc3QgdXBkYXRlQXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNwcm9maWxlLXBvcHVwXCIsIChmb3JtRGF0YSkgPT4ge1xyXG4gICAgdXBkYXRlQXZhdGFyUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgIGFwaVxyXG4gICAgICAuc2V0VXNlckF2YXRhcih7IGF2YXRhcjogZm9ybURhdGEuZGVzY3JpcHRpb24gfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHByb2ZpbGVJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xyXG4gICAgICAgIGlmIChwcm9maWxlSW1hZ2VFbGVtZW50KSB7XHJcbiAgICAgICAgICBwcm9maWxlSW1hZ2VFbGVtZW50LnNyYyA9IGZvcm1EYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1cGRhdGVBdmF0YXJQb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB1cGRhdGVBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XHJcbiAgfSk7XHJcblxyXG4gIHVwZGF0ZUF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gIGZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcclxuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgICAgZGF0YSxcclxuICAgICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gICAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgICAoY2FyZElkLCBjYXJkRWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGNvbmZpcm1Qb3B1cC5vcGVuKHsgY2FyZElkLCBjYXJkRWxlbWVudCB9KTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIHJldHVybiBjYXJkLmdldFZpZXcoKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAgIHtcclxuICAgICAgaXRlbXM6IFtdLFxyXG4gICAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChjYXJkRGF0YSk7XHJcbiAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBcIi5jYXJkc19fbGlzdFwiXHJcbiAgKTtcclxuXHJcbiAgcHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICAgIHByb2ZpbGVFZGl0UG9wdXAuc2V0SW5wdXRWYWx1ZXMoe1xyXG4gICAgICBoZWFkaW5nOiB1c2VyRGF0YS5uYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogdXNlckRhdGEuam9iLFxyXG4gICAgfSk7XHJcbiAgICBwcm9maWxlRWRpdFBvcHVwLm9wZW4oKTtcclxuICAgIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpOyAvLyBSZXNldCB2YWxpZGF0aW9uIHdoZW4gb3BlbmluZyB0aGUgcHJvZmlsZSBlZGl0IGZvcm1cclxuICB9KTtcclxuXHJcbiAgYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcclxuICAgIGFkZENhcmRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7IC8vIERpc2FibGUgdGhlIHN1Ym1pdCBidXR0b24gd2hlbiBvcGVuaW5nIHRoZSBhZGQgY2FyZCBmb3JtXHJcbiAgfSk7XHJcblxyXG4gIHByb2ZpbGVJbWFnZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgdXBkYXRlQXZhdGFyUG9wdXAub3BlbigpO1xyXG4gIH0pO1xyXG5cclxuICAvLyAvLyBGZXRjaCBhbmQgcmVuZGVyIGluaXRpYWwgY2FyZHNcclxuICAvLyBhcGlcclxuICAvLyAgIC5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC8vICAgLnRoZW4oKGluaXRpYWxDYXJkcykgPT4ge1xyXG4gIC8vICAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcyk7XHJcbiAgLy8gICB9KVxyXG4gIC8vICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcblxyXG4gIGFwaVxyXG4gICAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgICAudGhlbigoaW5pdGlhbENhcmRzKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbCBDYXJkczpcIiwgaW5pdGlhbENhcmRzKTsgLy8gTG9nIHRoZSBpbml0aWFsIGNhcmRzIGRhdGFcclxuICAgICAgc2VjdGlvbi5yZW5kZXJJdGVtcyhpbml0aWFsQ2FyZHMpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgaW5pdGlhbCBjYXJkczpcIiwgZXJyKSk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsIm5hbWUiLCJsaW5rIiwiX2lkIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfc2V0RXZlbnRMaXN0ZW5lciIsIl9jYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VJY29uIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJnZXRWaWV3IiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwidGV4dENvbnRlbnQiLCJjYXJkSW1hZ2UiLCJzcmMiLCJhbHQiLCJvcHRpb25zIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfc3VibWl0QnV0dG9uIiwiX2lucHV0RWxzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJpbnB1dEVsIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yRWwiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiYWRkIiwicmVtb3ZlIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfZGlzYWJsZUJ1dHRvbiIsIl9lbmFibGVCdXR0b24iLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImZvckVhY2giLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwicmVzZXRWYWxpZGF0aW9uIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsImV2dCIsInRhcmdldCIsIlBvcHVwIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJfc3VibWl0QnV0dG9uVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwiZGF0YSIsInJlc2V0IiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX2ltYWdlRWxlbWVudCIsIl9jYXB0aW9uRWxlbWVudCIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsIl9jb25maXJtQnV0dG9uIiwic2V0Q29uZmlybWF0aW9uSGFuZGxlciIsImhhbmRsZXIiLCJfaGFuZGxlQ29uZmlybSIsIl9kYXRhIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfam9iRWxlbWVudCIsImdldFVzZXJJbmZvIiwiam9iIiwic2V0VXNlckluZm8iLCJfcmVmMiIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJ2YWxpZGF0aW9uT3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIl9oYW5kbGVFcnJvciIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImZldGNoIiwidGhlbiIsImNhdGNoIiwiZ2V0SW5pdGlhbENhcmRzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJzZXRVc2VyQXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsInByb2ZpbGVFZGl0QnV0dG9uIiwiYWRkQ2FyZEJ1dHRvbiIsInByb2ZpbGVJbWFnZUJ1dHRvbiIsInVzZXJJbmZvIiwiVXNlckluZm8iLCJlZGl0Rm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsImltYWdlUG9wdXAiLCJwcm9maWxlRWRpdFBvcHVwIiwiUG9wdXBXaXRoRm9ybSIsImZvcm1EYXRhIiwiYXBpIiwiaGVhZGluZyIsImFib3V0IiwiZGVzY3JpcHRpb24iLCJmaW5hbGx5IiwiYWRkQ2FyZFBvcHVwIiwiY2FyZERhdGEiLCJjYXJkRWxlbWVudCIsImdldENhcmRFbGVtZW50Iiwic2VjdGlvbiIsIlBvcHVwV2l0aEltYWdlIiwiY29uZmlybVBvcHVwIiwidXBkYXRlQXZhdGFyUG9wdXAiLCJhdmF0YXIiLCJwcm9maWxlSW1hZ2VFbGVtZW50IiwidXNlckRhdGEiLCJpbml0aWFsQ2FyZHMiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9